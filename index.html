<!DOCTYPE html>

<html>

  <head>

    <meta charset="utf-8">

    <!-- fix device height, fix scale, hide browser default bars -->

    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, minimal-ui">

    <!-- STYLE -->

    <link rel="stylesheet" href="style/css/reset.css">
    <style media="screen">
      #renderCanvas {
        width: 100%;
        height: 100%;
      }
    </style>
    <!-- libraries -->

    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="lib/schteppe-cannon.js/build/cannon.js"></script>
    <!-- scripts -->

    <title>tylor lee</title>

  </head>

  <!-- ===========head end body start=========== -->
  <!-- ===========head end body start=========== -->

  <body>


  <canvas id="renderCanvas"></canvas>

  <!-- babylon contents script from here -->
  <script>
  var canvas = document.getElementById("renderCanvas");
  var engine = new BABYLON.Engine(canvas, true);
  var scene = new BABYLON.Scene(engine);
  var createScene = function () {

        // Scene


        BABYLON.SceneLoader.ImportMesh("", "", "untitled.babylon", scene, function (newMeshes, particleSystems, skeletons){
          for(var i=0; i<scene.meshes.length; i++){
              scene.meshes[i].checkCollisions=true;
            }
        });
        // Free camera
        var camera = new BABYLON.WebVRFreeCamera("camera1", new BABYLON.Vector3(-15, 50, -5), scene);
        // var camera = new BABYLON.FreeCamera("camera1", new BABYLON.Vector3(-15, 50, -5), scene);
        camera.setTarget(BABYLON.Vector3.Zero());
        camera.checkCollisions = true;
        camera.ellipsoid = new BABYLON.Vector3(5, 10, 5);
        camera.minZ = 0.8;
        camera.speed = 3;
        camera.keysUp.push('W'.charCodeAt(0));
        camera.keysDown.push('S'.charCodeAt(0));
        camera.keysLeft.push('A'.charCodeAt(0));
        camera.keysRight.push('D'.charCodeAt(0));
        camera.attachControl(canvas, true);
        camera.applyGravity = true;
        scene.gravity = new BABYLON.Vector3(0, -1, 0);

        scene.onPointerDown = function () {
          scene.onPointerDown = undefined
          camera.attachControl(canvas, true);
        }
        // Light
        var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(1, 10, 1), scene);
        light.intensity = 0.1;
      
      var light0 = new BABYLON.SpotLight("Spot0", new BABYLON.Vector3(317, 58, 10), new BABYLON.Vector3(5.3, -3, -1), 200, 1, scene);
light0.diffuse = new BABYLON.Color3(1, 1, 1);
light0.specular = new BABYLON.Color3(1, 1, 1);

	       // scene.debugLayer.show();

         return scene;

        };
        var scene = createScene();

        engine.runRenderLoop(function () {
          scene.render();
        });

        // Resize
        window.addEventListener("resize", function () {
          engine.resize();
        });

    </script>
    <!-- <script type="text/javascript" src="js/threeJsFront.js"></script>

 -->
    <!-- <script type="text/javascript" src="js/load_main.js"></script> -->


  </body>

</html>

